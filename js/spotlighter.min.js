// Release Version 0.5
function carpetBox(a,b){jQuery(document).ready(function(){if(jQuery("."+a).length){target=jQuery("."+a)}else{target=jQuery("#"+a)}jQuery("body").append('<div class="spotlighter-box '+b+'"></div>');target.addClass("spotlighter-content-container-ext "+b)})}function genCarpet(){if(jQuery(".spotlighter-carpet").length==0){jQuery("body").prepend('<div class="spotlighter-carpet"></div>')}}function generateBox(a,b,c,d,e,f,g,h,i){var j=jQuery(".spotlighter-box.spotlighter-temp."+a);var k=jQuery(".spotlighter-content-container.spotlighter-temp."+a);targetWidth=k.width();targetHeight=k.height();targetLeft=k.position().left;targetTop=k.position().top;k.addClass("spotlighter-content-style-"+h);k.removeClass("spotlighter-temp");var l={background:b,padding:c,borderWidth:d,borderColor:e,borderStyle:f,borderRadius:g,boxShadow:i,MozBoxShadow:i,WebkitBoxShadow:i};j.css(l);j.removeClass("spotlighter-temp")}jQuery(function(a){function b(b,c){var d=c/100;a(".spotlighter-carpet").css("background",b).css("opacity",d.toFixed(2)).toggle()}function c(a,b,c){var d=b.indexOf(a);var e=b.indexOf(" ",d+1);toReturn=e<0?b.substr(d+c):b.substr(d+c,e-d-c);return toReturn}a(".spotlighter-carpet").click(function(){a(this).removeAttr("style");a(".spotlighter-box").css("display","none");a(".spotlighter-content-container").removeClass("mcc-activated").removeAttr("style");a(".spotlighter-content-container-ext").removeClass("mcc-activated").removeAttr("style").parentsUntil("body").removeClass("spotlighter-flatten")});a(".spotlighter-switch").click(function(){var d=a(this).attr("class");connector=c("spotlighter-connector",d,0);if(a(".spotlighter-content-container").hasClass(connector)){carpetCSS=c("spotlighter-carpetcss",d,22);carpetCSSElements=carpetCSS.split("xx");b(carpetCSSElements[0],carpetCSSElements[1]);content=a(".spotlighter-content-container."+connector);content.each(function(b){style=c("spotlighter-content-style-",a(this).attr("class"),"spotlighter-content-style-".length);a(this).css("color",style).addClass("mcc-activated");var d=a(this).prev("div");targetLeft=a(this).position().left;targetTop=a(this).position().top;targetWidth=a(this).width();targetHeight=a(this).height();boxTop=parseInt(d.css("top").slice(0,-2),10);boxLeft=parseInt(d.css("left").slice(0,-2),10);boxBW=parseInt(d.css("borderTopWidth").slice(0,-2),10);boxPad=parseInt(d.css("paddingLeft").slice(0,-2),10);var e={top:targetTop-boxPad,left:targetLeft-boxPad,width:targetWidth,height:targetHeight,display:"block"};d.css(e)})}if(a(".spotlighter-content-container-ext").hasClass(connector)){carpetCSS=c("spotlighter-carpetcss",d,22);carpetCSSElements=carpetCSS.split("xx");b(carpetCSSElements[0],carpetCSSElements[1]);target=a(".spotlighter-carpet."+connector);target.addClass("mw-activated");a(".spotlighter-content-container-ext."+connector).addClass("mcc-activated").parentsUntil("body").addClass("spotlighter-flatten")}})})